import os
import fitz

def eof_func(filename, i):
    # Open the PDF file in read mode
    with fitz.open(filename) as doc:
        # Get the last page of the PDF file
        last_page = doc[-1]
    
        # Add an EOF marker to the end of the last page
        last_page.insert_textbox(last_page.rect, "\n%%EOF")
    
        # Save the modified PDF file
        doc.save(str(i) + '.pdf')


if __name__ == '__main__':
    folder = r"/home/kali/Desktop/cyber/f7"
    i = 0
    files = [os.path.join(folder, f) for f in os.listdir(folder)]
    for file in files:
        try:
            eof_func(file, i) 
            i += 1
            print(str(i) + "converted")
        except:
            print(f"{file} cannot be converted")

