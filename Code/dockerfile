# Use Python 3.9 as the base image
FROM python:3.9

# Install necessary libraries for processing PDF files and running a Flask app
RUN apt-get update && apt-get install -y \
    poppler-utils \
    libpoppler-cpp-dev \
    pkg-config \
    python3-dev

# Create a working directory for the app
WORKDIR /app

# Copy the Python script that will process the PDF file
COPY main.py .
COPY Feature_Extractor.py .
COPY Reduce_Bytes.py .
COPY run_model.py .
COPY random_forest.pkl .

# Install Flask and any other Python dependencies the app requires
COPY requirements.txt .
RUN pip install -r requirements.txt

# Expose port 5000 to the client
EXPOSE 5000

# Start the Flask app and listen on port 5000
CMD ["python", "main.py"]
